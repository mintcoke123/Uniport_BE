# 프로덕션 프로파일. 배포 시 SPRING_PROFILES_ACTIVE=prod 필수.
# PaaS 포트: server.port=${PORT:8080}. DB/CORS는 env 필수.

server:
  port: ${PORT:8080}

spring:
  h2:
    console:
      enabled: false
  datasource:
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
  jpa:
    show-sql: false
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        format_sql: false
    open-in-view: false

# 프로덕션 로깅: SQL/바인더 로그 비활성화
logging:
  level:
    root: INFO
    org.hibernate.SQL: WARN

# CORS: 배포된 프론트(Vercel) + 로컬 개발(localhost:3000에서 배포 백엔드 직접 호출 시). 여러 개는 쉼표로.
app:
  cors:
    allowed-origins: ${APP_CORS_ALLOWED_ORIGINS:https://uniport-mvp-fe.vercel.app,http://localhost:3000,http://127.0.0.1:3000}

# JWT: 프로덕션에서는 env JWT_SECRET 필수(32자 이상 랜덤). 기본값 사용 금지.
jwt:
  secret: ${JWT_SECRET:}
  expiration-ms: ${JWT_EXPIRATION_MS:86400000}

# 시드/어드민: 프로덕션에서 테스트 유저 시드 비활성화, 어드민 비밀번호 강한 값으로 설정
uniport:
  admin:
    email: ${UNIPORT_ADMIN_EMAIL:admin@uniport.com}
    password: ${UNIPORT_ADMIN_PASSWORD:}
  seed:
    test-user-enabled: ${UNIPORT_SEED_TEST_USER_ENABLED:false}
